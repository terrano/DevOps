<!DOCTYPE html>
<html lang="en">
  <head>
    <title>How To Install and Configure Zabbix to Securely Monitor Remote Servers on CentOS 7 | DigitalOcean</title>

<meta name="description" content="Zabbix is open source monitoring software you can use to ensure the servers in your infrastructure are working properly so you can fix problems before they affect your users.">
<meta name="keywords" content="High Availability Networking Apache PHP System Tools Monitoring">

<meta name="og:title" content="How To Install and Configure Zabbix to Securely Monitor Remote Servers on CentOS 7 | DigitalOcean">
<meta name="og:description" content="Zabbix is open source monitoring software you can use to ensure the servers in your infrastructure are working properly so you can fix problems before they affect your users.">
<meta name="og:site_name" content="DigitalOcean">
<meta name="og:type" content="article">

<meta name="twitter:site" content="DigitalOcean">
<meta name="twitter:title" content="How To Install and Configure Zabbix to Securely Monitor Remote Servers on CentOS 7 | DigitalOcean">
<meta name="twitter:description" content="Zabbix is open source monitoring software you can use to ensure the servers in your infrastructure are working properly so you can fix problems before they affect your users.">
<meta name="twitter:creator" content="DigitalOcean">
<meta name="twitter:card" content="photo" />
<meta name="twitter:url" content="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7"/>

<meta property='og:image' content="https://www.digitalocean.com/assets/community/default_community_sharing-65c1cc547375d6e37cc45195b3686769.png">
<meta name="twitter:image" content="https://www.digitalocean.com/assets/community/default_community_sharing-65c1cc547375d6e37cc45195b3686769.png">

  <link rel='canonical' href='https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7'>


    <link rel="stylesheet" media="all" href="/assets/community/application-bdfc2d8fb85ad3fae4a82273144bb2f0.css" />

    
    <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="iMXLnHYFpDoDnPBX+xS4tohB9leoTz2I5pVtJNn7Ejyc4fITk90IM2Mi7MhxNp9Pzjt1nqsEk4gxSmlHFkuc9g==" />
      <script src="https://use.typekit.net/izu1uqu.js"></script>
      <script>try{Typekit.load({ async: true });}catch(e){}</script>
    <script
      src="https://d2wy8f7a9ursnm.cloudfront.net/bugsnag-2.min.js"
      data-apikey="9ffc01bc3e1fa7891bfd20909d1bfb0e">
    </script>
    <!--<script src="//cdn.optimizely.com/js/701281621.js"></script>-->
    <script type="text/javascript">
      if(window.analytics=window.analytics||[],window.analytics.included)window.console&&console.error&&console.error("analytics.js included twice");else{window.analytics.included=!0,window.analytics.methods=["identify","group","track","page","pageview","alias","ready","on","once","off","trackLink","trackForm","trackClick","trackSubmit"],window.analytics.factory=function(a){return function(){var n=Array.prototype.slice.call(arguments);return n.unshift(a),window.analytics.push(n),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var key=window.analytics.methods[i];window.analytics[key]=window.analytics.factory(key)}window.analytics.load=function(a){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+a+"/analytics.min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)},window.analytics.SNIPPET_VERSION="2.0.9",
      window.analytics.load("puo3uv968t")}
      window.analytics.page();
    </script>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/community/tutorials/feed">
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js"></script>
    <script>
      window.comApp = {
        prefix: '/community',
        svgIconPath: 'https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg',
        railsEnv: 'production',
        rootUrl: 'https://www.digitalocean.com/community'
      };
    </script>
    
    <script src="/assets/community/application-696ac533a18a8d515d9ba94d8863d059.js"></script>
  </head>
  <body class="feature-filter-bar feature-upvotes tutorials-controller tutorial-single" data-env="production" data-prefix="/community" data-user-id="" data-facebook-app-id="694818843983011"   data-completed-tutorial-id="" data-tutorial-id="2014" data-js="tutorial"
>
    <script>
//<![CDATA[

//]]>
</script>
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-KHWBBT"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KHWBBT');</script>
<!-- End Google Tag Manager -->

    

    <div class='outside_viewport'>
        <div id="contents-modal" class="modal fade mini-modal" style="display: none;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1>Contents</h1>
          <button class="close-button icon icon-close-light" data-dismiss="modal" aria-label="close"></button>
        </div>
        <div class="modal-body">
          <div class="table-of-contents-modal"></div>
        </div>
      </div>
    </div>
  </div>
  <div id="share-modal" class="modal fade mini-modal" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1>Share</h1>
        <button type="button" class="close-button icon icon-close-light" aria-label="close" data-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="social-sharing social-sharing-container">
          <ul class="top ">
            <li class="shareBtn" id="sbTwitter">
              <a href="http://twitter.com/share?text=How To Install and Configure Zabbix to Securely Monitor Remote Servers on CentOS 7&amp;url=https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7?utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7&amp;utm_medium=community&amp;utm_source=twshare" class="share-icon share-popup" title="Share on Twitter" >
                <span class="sIcon icon-bird"></span>
              </a>
              <a href="http://twitter.com/share?text=How To Install and Configure Zabbix to Securely Monitor Remote Servers on CentOS 7&amp;url=https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7?utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7&amp;utm_medium=community&amp;utm_source=twshare" class="share-link share-popup" title="Share on Twitter" >
                Twitter
              </a>
            </li>
            <li class="shareBtn" id="sbFacebook">
              <a class="share-icon facebook-share" href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7?utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7&amp;utm_medium=community&amp;utm_source=fbshare" onclick="" title="Share on Facebook">
                <span class="sIcon icon-facebook-B"></span>
              </a>

              <a class="share-link facebook-share" href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7?utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7&amp;utm_medium=community&amp;utm_source=fbshare" onclick="" title="Share on Facebook">
                Facebook
              </a>
            </li>
            <li class="shareBtn" id="sbGoogle">
              <a href="https://plus.google.com/share?url=https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7?utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7&amp;utm_medium=community&amp;utm_source=gpshare" class="share-icon share-popup" title="Share on Google+">
                <span class="sIcon icon-google-plus-B"></span>
              </a>
              <a href="https://plus.google.com/share?url=https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7?utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7&amp;utm_medium=community&amp;utm_source=gpshare" class="share-link share-popup" title="Share on Google+">
                Google+
              </a>
            </li>
            <li class="shareBtn" id="sbYC">
              <a href="https://news.ycombinator.com/submitlink?t=How To Install and Configure Zabbix to Securely Monitor Remote Servers on CentOS 7&amp;u=https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7?utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7&amp;utm_medium=community&amp;utm_source=hnshare" class="share-icon share-popup" target="_blank" title="Submit to Hacker News">
                <span class="sIcon icon-hacker-news"></span>
              </a>
              <a href="https://news.ycombinator.com/submitlink?t=How To Install and Configure Zabbix to Securely Monitor Remote Servers on CentOS 7&amp;u=https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7?utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7&amp;utm_medium=community&amp;utm_source=hnshare" class="share-link share-popup" target="_blank" title="Submit to Hacker News">
                Hacker News
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="table-of-contents">
    <div data-js="tableOfContentsDesktop"></div>
    <button type="button" class="Button--reset Tutorial-button " data-js="markAsComplete" data-tutorialInteraction data-tutorialSingle><svg class='svg-icon svg-icon-completed'><use xlink:href='https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-completed'></use></svg><span>Mark as Complete</span></button>
  </div>
  
  <div id="share-modal" class="modal fade mini-modal" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1>Share</h1>
        <button type="button" class="close-button icon icon-close-light" aria-label="close" data-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="social-sharing social-sharing-container">
          <ul class="bottom ">
            <li class="shareBtn" id="sbTwitter">
              <a href="http://twitter.com/share?text=How To Install and Configure Zabbix to Securely Monitor Remote Servers on CentOS 7&amp;url=https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7?utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7&amp;utm_medium=community&amp;utm_source=twshare" class="share-icon share-popup" title="Share on Twitter" >
                <span class="sIcon icon-bird"></span>
              </a>
              <a href="http://twitter.com/share?text=How To Install and Configure Zabbix to Securely Monitor Remote Servers on CentOS 7&amp;url=https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7?utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7&amp;utm_medium=community&amp;utm_source=twshare" class="share-link share-popup" title="Share on Twitter" >
                Twitter
              </a>
            </li>
            <li class="shareBtn" id="sbFacebook">
              <a class="share-icon facebook-share" href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7?utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7&amp;utm_medium=community&amp;utm_source=fbshare" onclick="" title="Share on Facebook">
                <span class="sIcon icon-facebook-B"></span>
              </a>

              <a class="share-link facebook-share" href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7?utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7&amp;utm_medium=community&amp;utm_source=fbshare" onclick="" title="Share on Facebook">
                Facebook
              </a>
            </li>
            <li class="shareBtn" id="sbGoogle">
              <a href="https://plus.google.com/share?url=https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7?utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7&amp;utm_medium=community&amp;utm_source=gpshare" class="share-icon share-popup" title="Share on Google+">
                <span class="sIcon icon-google-plus-B"></span>
              </a>
              <a href="https://plus.google.com/share?url=https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7?utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7&amp;utm_medium=community&amp;utm_source=gpshare" class="share-link share-popup" title="Share on Google+">
                Google+
              </a>
            </li>
            <li class="shareBtn" id="sbYC">
              <a href="https://news.ycombinator.com/submitlink?t=How To Install and Configure Zabbix to Securely Monitor Remote Servers on CentOS 7&amp;u=https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7?utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7&amp;utm_medium=community&amp;utm_source=hnshare" class="share-icon share-popup" target="_blank" title="Submit to Hacker News">
                <span class="sIcon icon-hacker-news"></span>
              </a>
              <a href="https://news.ycombinator.com/submitlink?t=How To Install and Configure Zabbix to Securely Monitor Remote Servers on CentOS 7&amp;u=https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7?utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7&amp;utm_medium=community&amp;utm_source=hnshare" class="share-link share-popup" target="_blank" title="Submit to Hacker News">
                Hacker News
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>


      
    </div>

      <div class="mobile-nav">
  
<div class="account-buttons">
    <div id="entrance">
      <a id="sign-up" class="button" href="/community/auth/digitalocean?display=sessionless+register">Sign Up</a>
      <a id="log-in" class="button" href="/community/auth/digitalocean">Log In</a>
    </div>
</div>

  <button type="button" aria-label="close" class="close-panel icon-close"></button>

  <form class="mobile-search" role="search" action="/community/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
    <span class='icon icon-search-thin'></span>
    <input type="text" name="q" id="q" title="Search" placeholder="Search" />
    <button name="button" type="submit" class="icon-btn">submit</button>
</form>
  
<nav>

  <ul>
    <li><a class="active" href="/community/tutorials">Tutorials</a></li>
    <li><a href="/community/questions">Questions</a></li>
    <li><a href="/community/projects">Projects</a></li>
    <li><a href="https://www.meetup.com/pro/digitalocean/?utm_source=do_community" target="_blank">Meetups</a></li>
    <li class="mobile-nav-only"><a href="https://www.digitalocean.com/">Main Site</a></li>
  </ul>
</nav>

  
</div>

      
      <header>
  <div class="flash-container"></div>

  <div class='main-menu-container'>
    <div class='wrapper'>
      <div class='logo'>
        <a class="logo-icon" href="https://www.digitalocean.com/">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 190 32" class="do-icon">
<title>DigitalOcean</title>
<path class="path1" d="M16.016 32v-6.204c6.584 0 11.648-6.52 9.147-13.42-0.95-2.564-2.975-4.59-5.539-5.539-6.9-2.501-13.42 2.564-13.42 9.147 0 0 0 0 0 0l-6.204 0.032c0-10.477 10.129-18.643 21.112-15.225 4.811 1.488 8.609 5.317 10.097 10.097 3.418 10.983-4.716 21.112-15.193 21.112z"></path>
<path class="path2" d="M16.016 25.828h-6.172v-6.172h6.172z"></path>
<path class="path3" d="M9.844 30.576h-4.748v-4.748h4.748v4.748z"></path>
<path class="path4" d="M5.096 25.828h-3.988v-3.988h3.988z"></path>
<path class="path5" d="M56.973 9.242c-1.836-1.266-4.115-1.931-6.773-1.931h-5.792v18.39h5.792c2.659 0 4.938-0.665 6.773-2.026 1.013-0.696 1.804-1.709 2.342-2.944s0.823-2.69 0.823-4.336c0-1.614-0.285-3.070-0.823-4.305-0.538-1.203-1.329-2.152-2.342-2.849zM47.794 10.445h1.836c2.026 0 3.703 0.411 4.969 1.171 1.393 0.855 2.121 2.469 2.121 4.779 0 2.406-0.728 4.083-2.121 5.001v0c-1.203 0.791-2.88 1.203-4.938 1.203h-1.867v-12.154z"></path>
<path class="path6" d="M64.19 7.122c-0.57 0-1.044 0.19-1.424 0.57s-0.601 0.855-0.601 1.393c0 0.57 0.19 1.044 0.601 1.424 0.38 0.38 0.855 0.601 1.424 0.601s1.044-0.19 1.424-0.601c0.38-0.38 0.601-0.886 0.601-1.424 0-0.57-0.19-1.044-0.601-1.393-0.38-0.38-0.886-0.57-1.424-0.57z"></path>
<path class="path7" d="M62.512 12.787h3.26v12.977h-3.26v-12.977z"></path>
<path class="path8" d="M77.642 13.864c-0.981-0.886-2.089-1.393-3.26-1.393-1.804 0-3.292 0.633-4.463 1.836s-1.741 2.785-1.741 4.653c0 1.836 0.57 3.387 1.741 4.653 1.171 1.203 2.659 1.836 4.463 1.836 1.266 0 2.342-0.348 3.228-1.044v0.285c0 1.076-0.285 1.899-0.855 2.5-0.57 0.57-1.361 0.855-2.342 0.855-1.519 0-2.437-0.601-3.608-2.152l-2.216 2.121 0.063 0.095c0.475 0.665 1.203 1.329 2.184 1.962s2.184 0.95 3.64 0.95c1.931 0 3.513-0.601 4.653-1.773 1.171-1.171 1.741-2.754 1.741-4.716v-11.743h-3.197v1.076zM76.787 21.523c-0.57 0.633-1.298 0.95-2.247 0.95s-1.678-0.317-2.216-0.95c-0.57-0.633-0.855-1.488-0.855-2.532s0.285-1.931 0.855-2.564c0.57-0.633 1.298-0.981 2.216-0.981 0.95 0 1.678 0.317 2.247 0.981 0.57 0.633 0.855 1.519 0.855 2.564s-0.317 1.899-0.855 2.532z"></path>
<path class="path9" d="M83.624 12.787h3.26v12.977h-3.26v-12.977z"></path>
<path class="path10" d="M85.302 7.122c-0.57 0-1.044 0.19-1.424 0.57s-0.601 0.855-0.601 1.393c0 0.57 0.19 1.044 0.601 1.424 0.38 0.38 0.855 0.601 1.424 0.601s1.044-0.19 1.424-0.601c0.38-0.38 0.601-0.886 0.601-1.424 0-0.57-0.19-1.044-0.601-1.393-0.38-0.38-0.886-0.57-1.424-0.57z"></path>
<path class="path11" d="M94.038 9.274h-3.197v3.513h-1.867v2.975h1.867v5.381c0 1.678 0.348 2.88 1.013 3.577s1.836 1.044 3.513 1.044c0.538 0 1.076-0.032 1.583-0.063h0.158v-2.975l-1.108 0.063c-0.791 0-1.298-0.127-1.551-0.411s-0.38-0.855-0.38-1.709v-4.906h3.039v-2.975h-3.039v-3.513z"></path>
<path class="path12" d="M112.364 7.343h3.26v18.39h-3.26v-18.39z"></path>
<path class="path13" d="M148.574 21.112c-0.57 0.665-1.171 1.234-1.646 1.519v0c-0.443 0.285-1.013 0.443-1.678 0.443-0.95 0-1.741-0.348-2.374-1.076s-0.95-1.646-0.95-2.754 0.317-2.026 0.918-2.722c0.633-0.728 1.393-1.076 2.342-1.076 1.044 0 2.152 0.665 3.102 1.773l2.152-2.057c-1.393-1.836-3.197-2.69-5.349-2.69-1.804 0-3.355 0.665-4.621 1.931s-1.899 2.912-1.899 4.843 0.633 3.545 1.899 4.843c1.266 1.298 2.817 1.931 4.621 1.931 2.374 0 4.273-1.013 5.539-2.88l-2.057-2.026z"></path>
<path class="path14" d="M161.962 14.591c-0.475-0.633-1.108-1.171-1.867-1.551-0.791-0.38-1.678-0.57-2.69-0.57-1.836 0-3.323 0.665-4.431 1.994-1.076 1.329-1.646 2.944-1.646 4.874 0 1.962 0.601 3.577 1.804 4.843 1.171 1.234 2.785 1.867 4.716 1.867 2.184 0 4.020-0.886 5.349-2.659l0.063-0.095-2.121-2.057c-0.19 0.253-0.475 0.506-0.728 0.76-0.317 0.317-0.633 0.538-0.95 0.696-0.475 0.253-1.044 0.348-1.646 0.348-0.918 0-1.646-0.253-2.216-0.791-0.538-0.475-0.855-1.139-0.918-1.962h8.641l0.032-1.203c0-0.855-0.127-1.646-0.348-2.406-0.222-0.728-0.57-1.456-1.044-2.089zM154.841 17.63c0.158-0.633 0.443-1.139 0.855-1.551 0.443-0.443 1.013-0.665 1.709-0.665 0.791 0 1.393 0.222 1.804 0.665 0.38 0.411 0.601 0.918 0.665 1.519h-5.033z"></path>
<path class="path15" d="M174.497 13.737v0c-0.981-0.855-2.342-1.266-4.051-1.266-1.076 0-2.089 0.253-3.007 0.696-0.855 0.443-1.678 1.139-2.216 2.089l0.032 0.032 2.089 1.994c0.855-1.361 1.804-1.836 3.070-1.836 0.696 0 1.234 0.19 1.678 0.538s0.633 0.823 0.633 1.393v0.633c-0.823-0.253-1.614-0.38-2.406-0.38-1.614 0-2.944 0.38-3.925 1.139s-1.488 1.867-1.488 3.229c0 1.203 0.411 2.216 1.266 2.944 0.855 0.696 1.899 1.076 3.134 1.076s2.406-0.506 3.45-1.361v1.076h3.197v-8.324c0.063-1.583-0.443-2.817-1.456-3.672zM168.704 20.795c0.38-0.253 0.886-0.38 1.551-0.38 0.791 0 1.614 0.158 2.469 0.475v1.266c-0.696 0.665-1.646 0.981-2.817 0.981-0.57 0-1.013-0.127-1.298-0.38s-0.443-0.538-0.443-0.95c0-0.443 0.19-0.76 0.538-1.013z"></path>
<path class="path16" d="M188.55 13.99c-0.918-1.013-2.184-1.519-3.798-1.519-1.298 0-2.342 0.38-3.134 1.108v-0.791h-3.197v12.977h3.26v-7.185c0-0.981 0.222-1.773 0.696-2.311 0.475-0.57 1.076-0.823 1.931-0.823 0.728 0 1.298 0.253 1.709 0.728 0.411 0.506 0.633 1.171 0.633 2.026v7.501h3.26v-7.47c0-1.804-0.443-3.229-1.361-4.241z"></path>
<path class="path17" d="M108.281 13.737v0c-0.981-0.855-2.342-1.266-4.051-1.266-1.076 0-2.089 0.253-3.007 0.696-0.855 0.443-1.678 1.139-2.216 2.089l0.032 0.032 2.089 1.994c0.855-1.361 1.804-1.836 3.070-1.836 0.696 0 1.234 0.19 1.678 0.538s0.633 0.823 0.633 1.393v0.633c-0.823-0.253-1.614-0.38-2.406-0.38-1.614 0-2.944 0.38-3.925 1.139s-1.488 1.867-1.488 3.229c0 1.203 0.411 2.216 1.266 2.944 0.855 0.696 1.899 1.076 3.134 1.076s2.406-0.506 3.45-1.361v1.076h3.197v-8.324c0.032-1.583-0.475-2.817-1.456-3.672zM102.489 20.795c0.38-0.253 0.886-0.38 1.551-0.38 0.791 0 1.614 0.158 2.469 0.475v1.266c-0.696 0.665-1.646 0.981-2.817 0.981-0.57 0-1.013-0.127-1.298-0.38s-0.443-0.538-0.443-0.95c0-0.443 0.158-0.76 0.538-1.013z"></path>
<path class="path18" d="M127.462 26.018c-5.223 0-9.496-4.241-9.496-9.496s4.241-9.496 9.496-9.496 9.496 4.241 9.496 9.496-4.273 9.496-9.496 9.496zM127.462 10.382c-3.387 0-6.14 2.754-6.14 6.14s2.754 6.14 6.14 6.14 6.14-2.754 6.14-6.14-2.754-6.14-6.14-6.14z"></path>
</svg>

          <span class="sr-only">DigitalOcean</span>
</a>
        <span class="logo-separator"></span>

        <a class="home-link" href="/community">
          <span class='logo-community-text'>Community</span>
</a>      </div>

      <a class="mobile-nav-toggle icon-menu-thin" data-role="left">
        <span>Menu</span>
      </a>

      
<nav>

  <ul>
    <li><a class="active" href="/community/tutorials">Tutorials</a></li>
    <li><a href="/community/questions">Questions</a></li>
    <li><a href="/community/projects">Projects</a></li>
    <li><a href="https://www.meetup.com/pro/digitalocean/?utm_source=do_community" target="_blank">Meetups</a></li>
    <li class="mobile-nav-only"><a href="https://www.digitalocean.com/">Main Site</a></li>
  </ul>
</nav>


      
<div class="account-buttons">
    <div id="entrance">
      <a id="sign-up" class="button" href="/community/auth/digitalocean?display=sessionless+register">Sign Up</a>
      <a id="log-in" class="button" href="/community/auth/digitalocean">Log In</a>
    </div>
</div>
      <div class='header-search open'>
  <form action="/community/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
    <span class='icon icon-search-thin'></span>
    <input type="text" name="q" id="q" title="Search" placeholder="Search" autocomplete="off" spellcheck="false" class="header-search-input" data-algolia-application-id="6ZHEUVKJ88" data-algolia-api-key="c5470567eae7fa1177d43222e18ba086" />
    <button name="button" type="submit" class="icon-btn">submit</button>
</form></div>

<div class="search-results-dropdown dropdown" data-root-path="https://www.digitalocean.com/community">
  <div class="container">
    <div class='header-search-results-list'></div>

    <div id="btn-wrap">
      <a class="more-search-results" data-search-path="/community/search" href="/community/search">
        <span class='icon-mag'></span>
        View All Results
</a>    </div>
  </div>
</div>

<script type='text/template' id='autocomplete-hits-template'>
  <div class="inner-search">
    <ul>
        {{#hits}}
          <li>
            <span class='icon icon-{{type}}'></span>
            <a href='{{url}}'>{{title}}</a>
          </li>
        {{/hits}}
    </ul>
  </div>
</script>


      <div class='clearfix'></div>
    </div>
  </div>

  <div class='wrapper'>
    
  </div>
</header>


      

      <div class='wrapper layout-wrapper'>

        









<div class="section-content section-content-growable content Tutorial-content">
  <div class='postable-info-bar-container'>
  <div class='postable-info-bar'>
    <div class='left-section'>
        <div class='tutorial-author-avatar'>
    <a href="/community/users/neformat"><img alt="neformat" class="avatar avatar-small" src="https://secure.gravatar.com/avatar/88f85d1c53eae5038f135b1a670b0858?secure=true&d=identicon" width="80" height="80" /></a>
  </div>
  <div class='author-and-date'>
    <div class='tutorial-author'>
      <div class='by'>By: </div>
      <a href="/community/users/neformat">Vadym Kalsin</a>
    </div>
  </div>

      
    </div>

    <div class='right-section'>
      


      <div class="section-item section-item-subscribe">
  <span class="opt-in-switch off signed-out-subscribe">
    <span class="subscribe-label">
      <span class="icon icon-subscribe"></span>
      <span class="subscription-label subscribe">Subscribe</span>
      <span class="icon icon-subscribed"></span>
      <span class="subscription-label subscribed">Subscribed</span>
    </span>
    <a data-toggle="modal" data-target="#sign-in-modal" class="mini-switch-container" href="javascript:void(0);"><div class="mini-switch off signed-out-subscribe"><div class="switch-handle"></div></div></a>
  </span>
</div>

<div class='section-item social-sharing-item'>
  <div class="sharing">
  <a class="share-button" href="#" data-toggle="modal" data-target="#share-modal">
    <span class="icon icon-share-square"></span>
    <span class="share-button-text">Share</span>
  </a>
</div>

</div>

        <div class='section-item table-of-contents-triggers'><div class="toc-trigger-mobile" data-toggle="modal" data-target="#contents-modal">
  <a href="javascript:void(0);">
    <span class="icon icon-contents"></span>
    <span class="title">Contents</span>
    <span class="icon icon-arrow-down"></span>
  </a>
</div>

</div>

    </div>
  </div>
</div>



  <div class="container tutorial-header">

      <div class='info-cta'>
    <a class="icon-close-light" href="javascript:void();"></a>
    We hope you find this tutorial helpful. In addition to guides like this one, we provide simple cloud infrastructure for developers. <a href="https://www.digitalocean.com/?utm_medium=community&amp;utm_source=community_gencta&amp;utm_campaign=needaserver&amp;utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7">
        Learn more &rarr;
</a>  </div>


    <button name="button" type="button" class="new-upvote-button" data-upvotable-id="2014" data-upvotable-type="Tutorial" data-include-caret="true"><span class="icon new-upvote-icon"><svg class='svg-icon svg-icon-upvote-empty'><use xlink:href='https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty'></use></svg></span><span class="new-upvote-count">6</span></button>

    <h1 class="content-title Tutorial-header">
      <button type="button" class="Button--reset Tutorial-headerButton " data-toggle="tooltip" title="Mark as Complete" data-js="markAsComplete" data-tutorialInteraction data-tutorialSingle>
        <svg class='svg-icon svg-icon-completed'><use xlink:href='https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-completed'></use></svg>
      </button> How To Install and Configure Zabbix to Securely Monitor Remote Servers on CentOS 7
    </h1>

    <span class="meta-section timestamp"><span class="tutorial-date-text">Updated</span><span class="tutorial-date">November  9, 2016</span></span>

    <span class="meta-section pageviews"><span class="icon icon-eye v-mid"></span><span class="views-count v-mid">42.4k</span><span class="sr-only"> views</span></span>

    <span class="meta-section tags">
      <a class="tag" href="/community/tags/monitoring?type=tutorials">Monitoring</a> <a class="tag" href="/community/tags/networking?type=tutorials">Networking</a> <a class="tag" href="/community/tags/high-availability?type=tutorials">High Availability</a> <a class="tag" href="/community/tags/system-tools?type=tutorials">System Tools</a> <a class="tag" href="/community/tags/php?type=tutorials">PHP</a> <a class="tag" href="/community/tags/apache?type=tutorials">Apache</a>
      <a class="tag" href="/community/tags/centos?type=tutorials">CentOS</a>
    </span>
  </div>
    <div class="content-body tutorial-content" data-growable-markdown>
      <h3 id="introduction">Introduction</h3>

<p><a href="http://www.zabbix.com/">Zabbix</a> is open-source monitoring software for networks and applications. It offers real-time monitoring of thousands of metrics collected from servers, virtual machines, and any other kind of network device.  These metrics can help you determine the current health of your IT infrastructure and detect problems with hardware or software components before customers complain. Useful information is stored in a database so you can analyze data over time and improve the quality of provided services, or plan upgrades of your equipment.</p>

<p>Zabbix uses a client-server architecture and uses a small agent on the monitored client to gather data and send it to the Zabbix server. Zabbix version 3 supports encrypted communication between the server and connected clients, so your data is protected while it travels over insecure networks. </p>

<p>The Zabbix server stores its data in a relational database powered by MySQL, PostgreSQL, or Oracle. It also provides a web interface so you can view data and configure system settings. </p>

<p>In this tutorial, we will configure two machines. One will be configured as the server, and the other as a client which you'll monitor. The server will use a MySQL database to record monitoring data and use Apache to serve the web interface.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>To follow this tutorial, you will need:</p>

<ul>
<li>Two CentOS 7 servers with a sudo non-root user, which you can set up by following this <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-centos-7">initial CentOS server setup article</a>.</li>
<li>One of the CentOS 7 servers needs Apache, MySQL, and PHP installed. Follow <a href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-on-centos-7">this guide</a> to set these up on CentOS 7.</li>
</ul>

<p><span class='note'><strong>Note</strong>: CentOS uses MariaDB instead of MySQL, but this will not cause any issues while following this tutorial.<br></span></p>

<h2 id="step-1-—-installing-the-zabbix-server">Step 1 — Installing the Zabbix Server</h2>

<p>First, we need to install the Zabbix Server on our server with MySQL, Apache, and PHP.  We'll refer to this machine as the Zabbix server. Log into this machine as your non-root user:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ssh sammy@<span class="highlight">your_zabbix_server_ip_address</span>
</li></ul></code></pre>
<p>Zabbix isn't available in our package manager by default, so we will install a repository configuration package using the official Zabbix repository for CentOS, </p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo rpm -ivh http://repo.zabbix.com/zabbix/3.0/rhel/7/x86_64/zabbix-release-3.0-1.el7.noarch.rpm
</li></ul></code></pre>
<p>You will see the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Retrieving http://repo.zabbix.com/zabbix/3.0/rhel/7/x86_64/zabbix-release-3.0-1.el7.noarch.rpm
warning: /var/tmp/rpm-tmp.qLbOPP: Header V4 DSA/SHA1 Signature, key ID 79ea5ed4: NOKEY
Preparing...                          ################################# [100%]
Updating / installing...
   1:zabbix-release-3.0-1.el7         ################################# [100%]
</code></pre>
<p>Now you can run the following command to install the Zabbix server and web frontend with MySQL database support:  </p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo yum install zabbix-server-mysql zabbix-web-mysql
</li></ul></code></pre>
<p>During the installation process you will be asked about importing a GPG key. Confirm it so the installation can complete.</p>

<p>Let's also install the Zabbix agent, which will let us collect data about the Zabbix server  itself. </p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo yum install zabbix-agent
</li></ul></code></pre>
<p>Before we can use Zabbix, we have to set up a database to hold the data that the Zabbix server will collect from its agents.</p>

<h2 id="step-2-—-configuring-the-mysql-database-for-zabbix">Step 2 — Configuring the MySQL Database For Zabbix</h2>

<p>We need to create a new MySQL database and populate it with some basic information in order to make it suitable for Zabbix. We'll also create a specific user for this database so Zabbix isn't logging into MySQL with the <code>root</code> account. </p>

<p>Log into MySQL as the root user using the root password that you set up during the MySQL server installation:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mysql -uroot -p
</li></ul></code></pre>
<p>First, create the Zabbix database with UTF-8 character support:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="MariaDB&gt;">create database zabbix character set utf8;
</li></ul></code></pre>
<p>Next, create a user that the Zabbix server will use, give it access to the new database, and set the password:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="MariaDB&gt;">grant all privileges on zabbix.* to <span class="highlight">zabbix@localhost</span> identified by '<span class="highlight">your_password</span>';
</li></ul></code></pre>
<p>Then apply these new permissions:</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="MariaDB&gt;">flush privileges;
</li></ul></code></pre>
<p>That takes care of the user and the database. Exit out of the database console.</p>
<pre class="code-pre custom_prefix"><code langs=""><ul class="prefixed"><li class="line" prefix="MariaDB&gt;">quit;
</li></ul></code></pre>
<p>Next we have to import the initial schema and data. The Zabbix installation provided us with a file that sets this up for us. We just have to import it. Navigate to the directory:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd /usr/share/doc/<span class="highlight">zabbix-server-mysql-3.0.4</span>/
</li></ul></code></pre>
<p>Run the following command to set up the schema and import the data into the <code>zabbix</code> database. We'll use <code>zcat</code> since the data in the file is compressed.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">zcat create.sql.gz | mysql -uzabbix -p zabbix
</li></ul></code></pre>
<p>Enter the password for the <strong>zabbix</strong> user that you configured when prompted.</p>

<p>This command will not output any errors if it was successful. If you see the error <code>ERROR 1045 (28000): Access denied for user 'zabbix'@'localhost' (using password: YES)</code> then make sure you used the password for the <code>zabbix</code> user and not the <code>root</code> user.</p>

<p>In order for the Zabbix server to use this database, you need to set the database password in the Zabbix server configuration file.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo vi /etc/zabbix/zabbix_server.conf
</li></ul></code></pre>
<p>Look for the following section of the file:</p>
<div class="code-label " title="/etc/zabbix/zabbix_server.conf">/etc/zabbix/zabbix_server.conf</div><pre class="code-pre "><code langs="">### Option: DBPassword                           
#       Database password. Ignored for SQLite.   
#       Comment this line if no password is used.
#                                                
# Mandatory: no                                  
# Default:                                       
# DBPassword=
</code></pre>
<p>These comments in the file explain how to connect to the database. We need to set the <code>DBPassword</code> value in the file to the password for our database user. Add this line below those comments to configure the database:</p>
<div class="code-label " title="/etc/zabbix/zabbix_server.conf">/etc/zabbix/zabbix_server.conf</div><pre class="code-pre "><code langs="">DBPassword=<span class="highlight">your_zabbix_mysql_password</span>
</code></pre>
<p>That takes care of the Zabbix server configuration, but we have to make some modifications to our PHP setup in order for the Zabbix web interface to work properly.</p>

<h2 id="step-3-—-configuring-php-for-zabbix">Step 3 — Configuring PHP For Zabbix</h2>

<p>The Zabbix web interface is written in PHP and requires some special PHP server settings. The Zabbix installation process created an Apache configuration file that contains these settings. It is located in the directory <code>/etc/httpd/conf.d/</code> and is loaded automatically by Apache. We need to make a small change to this file, so open it up.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo vi /etc/httpd/conf.d/zabbix.conf
</li></ul></code></pre>
<p>The file contains PHP settings that meet the necessary requirements for the Zabbix web interface. The only change you need to make is to set the appropriate timezone, which is commented out by default.</p>
<div class="code-label " title="/etc/httpd/conf.d/zabbix.conf">/etc/httpd/conf.d/zabbix.conf</div><pre class="code-pre "><code langs="">&lt;IfModule mod_php5.c&gt;
    php_value max_execution_time 300
    php_value memory_limit 128M
    php_value post_max_size 16M
    php_value upload_max_filesize 2M
    php_value max_input_time 300
    php_value always_populate_raw_post_data -1
    <span class="highlight"># php_value date.timezone Europe/Riga</span>
&lt;/IfModule&gt;
</code></pre>
<p>Uncomment the timezone line, highlighted above, and change it to your time zone. You can use this <a href="http://php.net/manual/en/timezones.php">list of supported time zones</a> to find the right one for you. Then save and close the file.</p>

<p>Now restart Apache to apply these new settings.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl restart httpd
</li></ul></code></pre>
<p>You can now start the Zabbix server.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl start zabbix-server
</li></ul></code></pre>
<p>Then check whether the Zabbix server is running properly:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl status zabbix-server
</li></ul></code></pre>
<p>You will see the following status:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>● zabbix-server.service - Zabbix Server
   Loaded: loaded (/usr/lib/systemd/system/zabbix-server.service; disabled; vendor preset: disabled)
   Active: <span class="highlight">:active (running)</span> since Fri 2016-08-05 07:16:35 UTC; 2s ago
  Process: 10033 ExecStart=/usr/sbin/zabbix_server -c $CONFFILE (code=exited, status=0/SUCCESS)
  ...
</code></pre>
<p>Finally, enable the Zabbix server to start at boot time: </p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl enable zabbix-server
</li></ul></code></pre>
<p>The server is set up and connected to the database. Now let's set up the web frontend.</p>

<h2 id="step-4-—-configuring-settings-for-the-zabbix-web-interface">Step 4 — Configuring Settings for the Zabbix Web Interface</h2>

<p>The web interface lets us see reports and add hosts that we want to monitor, but it needs some initial setup before we can use it.  Launch your browser and go to the address <code>http://<span class="highlight">your_zabbix_server_ip_address</span>/zabbix/</code>. On the first screen, you will see a welcome message. Click <strong>Next step</strong> to continue.</p>

<p>On the next screen, you will see the table that lists all of the prerequisites to run Zabbix. </p>

<p><img src="https://assets.digitalocean.com/articles/zabbix_3_centos_7/3wJ78k4.png" alt="Prerequisites"></p>

<p>All of the values in this table must show <strong>OK</strong>, so verify that they do. Be sure to scroll down and look at all of the prerequisites. Once you've verified that everything is ready to go, click <strong>Next step</strong> to proceed.</p>

<p>The next screen asks for database connection information.</p>

<p><img src="https://assets.digitalocean.com/articles/zabbix_3_centos_7/fGJhZo1.png" alt="DB Connection"></p>

<p>We told the Zabbix server about our database, but the Zabbix web interface also needs access to the database to manage hosts and read data so it can display it to us. Enter the MySQL credentials you configured in Step 2 and click <strong>Next step</strong> to proceed.</p>

<p>On the next screen, you can leave the options at their default values. </p>

<p><img src="https://assets.digitalocean.com/articles/zabbix_3_centos_7/OwORmZh.png" alt="Zabbix Server Details"></p>

<p>The <strong>Name</strong> is optional; it is used in the web interface to distinguish one server from another in case you have several monitoring servers. Click <strong>Next step</strong> to proceed. </p>

<p>The next screen will show the pre-installation summary so you can confirm everything is correct.</p>

<p><img src="https://assets.digitalocean.com/articles/zabbix_3_centos_7/X0POG7S.png" alt="Summary"></p>

<p>Click <strong>Next step</strong> to proceed to the final screen.</p>

<p>The web interface setup is complete! This process creates the configuration file <code>/etc/zabbix/web/zabbix.conf.php</code> which you could back up and use in the future. Click <strong>Finish</strong> to proceed to the login screen. The default user is <strong>admin</strong> and the password is <strong>zabbix</strong>.</p>

<p>Before we log in, let's set up the Zabbix agent on our other server.</p>

<h2 id="step-5-—-installing-and-configuring-the-zabbix-agent">Step 5 — Installing and Configuring the Zabbix Agent</h2>

<p>Now we need to configure the agent software that will send monitoring data to the Zabbix server. </p>

<p>Login to the second server, which we'll call the “monitored server”.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ssh sammy@<span class="highlight">your_monitored_server_ip_address</span>
</li></ul></code></pre>
<p>Then, just like on the Zabbix server, run the following command to install the repository configuration package:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo rpm -ivh http://repo.zabbix.com/zabbix/3.0/rhel/7/x86_64/zabbix-release-3.0-1.el7.noarch.rpm
</li></ul></code></pre>
<p>You will see the following output:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Retrieving http://repo.zabbix.com/zabbix/3.0/rhel/7/x86_64/zabbix-release-3.0-1.el7.noarch.rpm
warning: /var/tmp/rpm-tmp.jnLROO: Header V4 DSA/SHA1 Signature, key ID 79ea5ed4: NOKEY
Preparing...                          ################################# [100%]
Updating / installing...
   1:zabbix-release-3.0-1.el7         ################################# [100%]
</code></pre>
<p>Then install the Zabbix agent:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo yum install zabbix-agent
</li></ul></code></pre>
<p>Confirm that you want to import the GPG key when asked.</p>

<p>While Zabbix supports certificate-based encryption, setting up a certificate authority is beyond the scope of this tutorial, but we can use pre-shared keys (PSK) to secure the connection between the server and agent. </p>

<p>So first, generate a PSK: </p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo sh -c "openssl rand -hex 32 &gt; /etc/zabbix/zabbix_agentd.psk"
</li></ul></code></pre>
<p>Show the key so you can copy it somewhere. You will need it to configure the host.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cat /etc/zabbix/zabbix_agentd.psk
</li></ul></code></pre>
<p>The key will look something like this:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>bd7ebdc1ae80fb66e8102d6016671a4feabf489cf2692ee473512771c4903ed8
</code></pre>
<p>Now you have to edit the Zabbix agent settings to set up its secure connection to the Zabbix server.  Open the agent configuration file:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo vi /etc/zabbix/zabbix_agentd.conf
</li></ul></code></pre>
<p>Each setting within this file is documented via informative comments throughout the file, but you only need to edit some of them. </p>

<p>First, you must edit the IP address of the Zabbix server. Find the following section:</p>
<div class="code-label " title="/etc/zabbix/zabbix_agentd.conf">/etc/zabbix/zabbix_agentd.conf</div><pre class="code-pre "><code langs="">### Option: Server
#       List of comma delimited IP addresses (or hostnames) of Zabbix servers.
#       Incoming connections will be accepted only from the hosts listed here.
#       If IPv6 support is enabled then '127.0.0.1', '::127.0.0.1', '::ffff:127.0.0.1' are treated equally.
#
# Mandatory: no
# Default:
# Server=

Server=127.0.0.1
</code></pre>
<p>Change the default value to the IP of your Zabbix server:</p>
<div class="code-label " title="/etc/zabbix/zabbix_agentd.conf">/etc/zabbix/zabbix_agentd.conf</div><pre class="code-pre "><code langs="">Server=<span class="highlight">your_zabbix_server_ip_address</span>
</code></pre>
<p>Next, find the section that configures the secure connection to the Zabbix server and enable pre-shared key support. Find the <br>
<code>TSLConnect</code> section, which looks like this:</p>
<div class="code-label " title="/etc/zabbix/zabbix_agentd.conf">/etc/zabbix/zabbix_agentd.conf</div><pre class="code-pre "><code langs="">
### Option: TLSConnect
#       How the agent should connect to server or proxy. Used for active checks.
#       Only one value can be specified:
#               unencrypted - connect without encryption
#               psk         - connect using TLS and a pre-shared key
#               cert        - connect using TLS and a certificate
#
# Mandatory: yes, if TLS certificate or PSK parameters are defined (even for 'unencrypted' connection)
# Default:
# TLSConnect=unencrypted
</code></pre>
<p>Then add this line to configure pre-shared key support:</p>
<div class="code-label " title="/etc/zabbix/zabbix_agentd.conf">/etc/zabbix/zabbix_agentd.conf</div><pre class="code-pre "><code langs="">TLSConnect=<span class="highlight">psk</span>
</code></pre>
<p>Next, locate the <code>TLSAccept</code> section, which looks like this:</p>
<div class="code-label " title="/etc/zabbix/zabbix_agentd.conf">/etc/zabbix/zabbix_agentd.conf</div><pre class="code-pre "><code langs="">### Option: TLSAccept
#       What incoming connections to accept.
#       Multiple values can be specified, separated by comma:
#               unencrypted - accept connections without encryption
#               psk         - accept connections secured with TLS and a pre-shared key
#               cert        - accept connections secured with TLS and a certificate
#
# Mandatory: yes, if TLS certificate or PSK parameters are defined (even for 'unencrypted' connection)
# Default:
# TLSAccept=unencrypted

</code></pre>
<p>Configure incoming connections to support pre-shared keys by adding this line:</p>
<div class="code-label " title="/etc/zabbix/zabbix_agentd.conf">/etc/zabbix/zabbix_agentd.conf</div><pre class="code-pre "><code langs="">TLSAccept=<span class="highlight">psk</span>
</code></pre>
<p>Next, find the <code>TLSPSKIdentity</code> section, which looks like this:</p>
<div class="code-label " title="/etc/zabbix/zabbix_agentd.conf">/etc/zabbix/zabbix_agentd.conf</div><pre class="code-pre "><code langs="">### Option: TLSPSKIdentity
#       Unique, case sensitive string used to identify the pre-shared key.
#
# Mandatory: no
# Default:
# TLSPSKIdentity=
</code></pre>
<p>Choose a unique name to identify your pre-shared key by adding this line:</p>
<div class="code-label " title="/etc/zabbix/zabbix_agentd.conf">/etc/zabbix/zabbix_agentd.conf</div><pre class="code-pre "><code langs=""><span class="highlight">TLSPSKIdentity=PSK 001</span>
</code></pre>
<p>You'll use this as the <strong>PSK ID</strong> when you add your host through the Zabbix web interface.</p>

<p>Then set the option which points to your previously created pre-shared key. Locate the <code>TLSPSKFile</code> option:</p>
<div class="code-label " title="/etc/zabbix/zabbix_agentd.conf">/etc/zabbix/zabbix_agentd.conf</div><pre class="code-pre "><code langs="">### Option: TLSPSKFile
#       Full pathname of a file containing the pre-shared key.
#
# Mandatory: no
# Default:
# TLSPSKFile=
</code></pre>
<p>Add this line to point the Zabbix agent to your PSK file you created:</p>
<div class="code-label " title="/etc/zabbix/zabbix_agentd.conf">/etc/zabbix/zabbix_agentd.conf</div><pre class="code-pre "><code langs="">TLSPSKFile=<span class="highlight">/etc/zabbix/zabbix_agentd.psk</span>
</code></pre>
<p>Save and close the file. Now you can start the Zabbix agent and set it to start at boot time: </p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl start zabbix-agent
</li><li class="line" prefix="$">sudo systemctl enable zabbix-agent
</li></ul></code></pre>
<p>For good measure, check that the Zabbix agent is running properly:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl status zabbix-agent
</li></ul></code></pre>
<p>You will see the following status, indicating the agent is running:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>● zabbix-agent.service - Zabbix Agent
   Loaded: loaded (/usr/lib/systemd/system/zabbix-agent.service; disabled; vendor preset: disabled)
   Active: <span class="highlight">active (running)</span> since Fri 2016-08-05 08:17:07 UTC; 5s ago
  Process: 9507 ExecStart=/usr/sbin/zabbix_agentd -c $CONFFILE (code=exited, status=0/SUCCESS)
  ...
</code></pre>
<p>Our agent is now ready to send data to the Zabbix server. But in order to use it, we have to link to it from the server's web console. </p>

<h2 id="step-6-—-adding-the-new-host-to-the-zabbix-server">Step 6 — Adding the New Host to the Zabbix Server</h2>

<p>Installing an agent on a server we want to monitor is only half of the process. Each host we want to monitor needs to be registered on the Zabbix server, which we can do through the web interface.</p>

<p>Log in to the Zabbix Server web interface by navigating to the address <code>http://<span class="highlight">your_zabbix_server_ip_address</span>/zabbix/</code>.</p>

<p><img src="https://assets.digitalocean.com/articles/zabbix_3_centos_7/ux6aOQN.png" alt="The Zabbix login screen"></p>

<p>When you have logged in, click on the <strong>Configuration</strong>, and then <strong>Hosts</strong> in the top navigation bar. Then click <strong>Create host</strong> button in the top right corner of the screen. This will open the host configuration page.</p>

<p><img src="https://assets.digitalocean.com/articles/zabbix_3_centos_7/8BxjZFg.png" alt="Creating a host"></p>

<p>Adjust the <strong>Host name</strong> and <strong>IP ADDRESS</strong> to reflect the host name and IP address of your client machine. Then add the host to a group by selecting one of the groups from the list, or by creating your own group. The host can be in multiple groups. The <strong>Linux Servers</strong> group is a good default choice. Once you've added the group, click the <strong>Templates</strong> tab.</p>

<p><img src="https://assets.digitalocean.com/articles/zabbix_3_centos_7/RLVxhCq.png" alt="Adding a template to the host"></p>

<p>Type <code>Template OS Linux</code> in the <strong>Search</strong> field and then click <strong>Add</strong> to add this template to the host.  </p>

<p>Next, navigate to <strong>Encryption</strong> tab. Select <strong>PSK</strong> for both <strong>Connections to host</strong> and <strong>Connections from host</strong>. Then set <strong>PSK identity</strong> to <code>PSK 001</code>, which is the value of the <strong>TLSPSKIdentity</strong> setting of the Zabbix agent we configured previously. Then set <br>
<strong>PSK</strong> value to the key you generated for the Zabbix agent. It's the one stored in the file <code>/etc/zabbix/zabbix_agentd.psk</code> on the agent machine.</p>

<p><img src="https://assets.digitalocean.com/articles/zabbix_3_centos_7/sgaUi30.png" alt="Setting up the encryption."></p>

<p>Finally, click the <strong>Add</strong> button at the bottom of the form to create the host.</p>

<p>You will see your new host with green labels indicating that everything is  working fine and the connection is encrypted.</p>

<p><img src="https://assets.digitalocean.com/articles/zabbix_3_centos_7/eIxB4l5.png" alt="Zabbix shows your new host."></p>

<p>After several seconds you can navigate to <strong>Monitoring</strong> and then <strong>Latest data</strong> to see the data from your agent.</p>

<p>To ensure things are working, shut down your monitored server so you can see how Zabbix alerts you to problems.  Once your monitored server is offline you will see the warning on the main dashboard:</p>

<p><img src="https://assets.digitalocean.com/articles/zabbix_3_centos_7/lbUoWOS.png" alt="Zabbix shows you a warning about the host that's offline."></p>

<p>If you have additional servers you need to monitor, log in to each host, install the Zabbix agent, generate a PSK, configure the agent, and add the host to the web interface following the same steps you followed to add your first host.</p>

<h2 id="conclusion">Conclusion</h2>

<p>In this tutorial, you set up a simple and secure solution which will help you monitor the state of your servers. It can now warn you of problems, and you have the opportunity to plot some graphs based on the obtained data so you can analyze it and plan accordingly.</p>

    </div>
</div>

<div class="tutorial-footer">
  <div class='tutorial-footer-details'>

  <div class='postable-info-bar-container'>
  <div class='postable-info-bar'>
    <div class='left-section'>
        <div class='tutorial-author-avatar'>
    <a href="/community/users/neformat"><img alt="neformat" class="avatar avatar-small" src="https://secure.gravatar.com/avatar/88f85d1c53eae5038f135b1a670b0858?secure=true&d=identicon" width="80" height="80" /></a>
  </div>
  <div class='author-and-date'>
    <div class='tutorial-author'>
      <div class='by'>By: </div>
      <a href="/community/users/neformat">Vadym Kalsin</a>
    </div>
  </div>

    </div>
    <div class='right-section'>
      <div class="upvote-container">
        <button name="button" type="button" class="new-upvote-button" data-upvotable-id="2014" data-upvotable-type="Tutorial" data-include-caret="false"><span class="icon new-upvote-icon"><svg class='svg-icon svg-icon-heart'><use xlink:href='https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-heart'></use></svg></span><span class="new-upvote-text">Upvote</span><span class="new-upvote-count">6</span></button>
      </div>
      <div class="section-item section-item-subscribe">
  <span class="opt-in-switch off signed-out-subscribe">
    <span class="subscribe-label">
      <span class="icon icon-subscribe"></span>
      <span class="subscription-label subscribe">Subscribe</span>
      <span class="icon icon-subscribed"></span>
      <span class="subscription-label subscribed">Subscribed</span>
    </span>
    <a data-toggle="modal" data-target="#sign-in-modal" class="mini-switch-container" href="javascript:void(0);"><div class="mini-switch off signed-out-subscribe"><div class="switch-handle"></div></div></a>
  </span>
</div>

<div class='section-item social-sharing-item'>
  <div class="sharing">
  <a class="share-button" href="#" data-toggle="modal" data-target="#share-modal">
    <span class="icon icon-share-square"></span>
    <span class="share-button-text">Share</span>
  </a>
</div>

</div>

    </div>
  </div>
</div>


  <div class='section-content tutorial-contributors two'>

      <div class='tutorial-footer-user'>
        <div class='tutorial-footer-user-avatar-container'>
          <a href="/community/users/bhogan"><div class="mod-avatar mod-avatar-small"><img alt="bhogan" class="avatar avatar-small" src="https://secure.gravatar.com/avatar/d753bf40d7283f16ec0db2c9b0d18b58?secure=true&d=identicon" width="80" height="80" /><span class="mod-star" title="MOD" data-toggle="tooltip" data-container="body"><span class="mod-star-icon" /></span></div></a>
        </div>
        <div class='user-info'>
          <div class='tutorial-user-type'>Editor:</div>
          <a class="" href="/community/users/bhogan">Brian Hogan</a>
        </div>
      </div>

  </div>
</div>


  
    <div class='tutorial-ctas'>
  <div class='section-content'>
    <div class='cta-description'>
      <h2>Spin up an SSD cloud server in under a minute.</h2>

      <p>Simple setup. Full root access. Straightforward pricing.</p>

      <a class="cloud-tutorial-cta" href="https://www.digitalocean.com/?utm_medium=community&amp;utm_source=community_gencta&amp;utm_campaign=needaserver&amp;utm_content=how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7">Deploy Server</a>
    </div>
  </div>
</div>
    <div class='related-tutorials'>
    <div class='section-content'>
      <h2>Related Tutorials</h2>

      <ul>
        <li><a class="related-link" href="/community/tutorials/how-to-monitor-zabbix-alerts-with-alerta-on-ubuntu-16-04">How To Monitor Zabbix Alerts with Alerta on Ubuntu 16.04</a></li>
<li><a class="related-link" href="/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-ubuntu-16-04">How to Install and Configure Zabbix to Securely Monitor Remote Servers on Ubuntu 16.04</a></li>
<li><a class="related-link" href="/community/tutorials/how-to-install-and-configure-openldap-and-phpldapadmin-on-ubuntu-16-04">How To Install and Configure OpenLDAP and phpLDAPadmin on Ubuntu 16.04</a></li>
<li><a class="related-link" href="/community/tutorials/how-to-monitor-zabbix-alerts-with-alerta-on-centos-7">How To Monitor Zabbix Alerts with Alerta on CentOS 7</a></li>
<li><a class="related-link" href="/community/tutorials/how-to-configure-ntp-for-use-in-the-ntp-pool-project-on-centos-7">How to Configure NTP for Use in the NTP Pool Project on CentOS 7</a></li>

      </ul>
    </div>
  </div>

</div>

<div class="content-comments">
  <div class="section-content">
    <div class="tutorial commentable" id="tutorial_2014">

  <div class="comments-header">
    <h4 class="comments-count"><span>10 Comments</span></h4>
  </div>

  <div class="response response-form no-avatar">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form disabled-form" id="new_comment" action="/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" />

    <textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content tutorial-comment-field" data-markdown="true"></textarea>

      <div class="log-in-notice "><a href="/community/auth/digitalocean">Log In to Comment</a></div>

    <div class='clearfix'></div>
</form>
</div>


  <div class="comments">
    <ul class="response-list">
          <a class="js-click-on-load hidden" rel="nofollow" data-remote="true" href="/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-centos-7/comments">Load</a>
    </ul>

      <div class='comments-spinner'><div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>
</div>
  </div>

  <div class='load-more-container'></div>
</div>


  </div>
</div>

<div class="creative-commons">
  <a class="creative-commons-image" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img rel="license" alt="Creative Commons License" src="/assets/community/creativecommons-08b32a9279fcd47fcd78ac6a26331389.png" /></a>
    <div class="license-text">This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</div>
</div>





        <div class="clearfix"></div>
      </div>

      <footer class='Footer'>
  <span class="Footer-logo icon-sammy"></span>

  <div>Copyright &copy; 2017 DigitalOcean&trade; Inc.</div>

  <ul class="Footer-nav">
    <li><a href="/community">Community</a></li>
    <li><a href="/community/tutorials">Tutorials</a></li>
    <li><a href="/community/questions">Questions</a></li>
    <li><a href="/community/projects">Projects</a></li>
    <li><a href="/community/tags">Tags</a></li>
    <li><a href="/community/newsletter">Newsletter</a></li>
    <li>
      <a href="/community/tutorials/feed">
        RSS <span class="icon-rss"></span>
</a>    </li>
  </ul>

  <br />

  <ul class="Footer-nav Footer-nav--secondary">
    <li><a href="https://www.digitalocean.com/features/one-click-apps/">Distros &amp; One-Click Apps</a></li>
    <li><a href="https://www.digitalocean.com/legal/terms/">Terms, Privacy, &amp; Copyright</a></li>
    <li><a href="https://www.digitalocean.com/security/">Security</a></li>
      <li><a data-toggle="modal" data-target="#sign-in-modal" href="#">Report a Bug</a></li>
    <li><a href="/community/get-paid-to-write">Get Paid to Write</a></li>
    <li><a href="http://store.digitalocean.com/">Shop</a></li>
  </ul>
</footer>





      <div id='sign-in-modal' class='modal fade mini-modal' style="display: none;">
  <div class='modal-dialog'>
    <div class='modal-content'>
      <div class='modal-header'>
        <h1>Almost there!</h1>
        <a class='close-button' data-dismiss='modal' aria-label="close"  href=''><span class='icon icon-close-light'></span></a>
      </div>
      <div class='modal-body'>
        <div class='sign-in-message'>Sign into your account, or create a new one, to start interacting.</div>

        <div class='sign-in-modal-actions'>
          <a class="sign-in-link button blue-button" data-default-url="/community/auth/digitalocean" href="/community/auth/digitalocean">Log In</a>
          <a class="sign-up-link button green-button" data-default-url="/community/auth/digitalocean?display=sessionless+register" href="/community/auth/digitalocean?display=sessionless+register">Sign Up</a>
        </div>
      </div>
    </div>
  </div>
</div>



    
  <script>
    $(function() {
      if (!!window.init_sharing) {
        window.init_sharing();
      }
      new window.NewsletterSignup();
      new window.GrowableMarkdown({ target: '[data-growable-markdown]' });

      window.Bugsnag.beforeNotify = function(payload, metaData) {
        // custom logic to determine groupingHash
        metaData.groupingHash = "tutorialShow";
      }
    });
  </script>

  <div id='report-a-bug-modal' class='modal fade mini-modal' style="display: none;">
    <div class='modal-dialog'>
      <div class='modal-content'>
        <div class='modal-header'>
          <h1>Report a Bug</h1>
          <a class='close-button' data-dismiss='modal' aria-label="close" href=''><span class='icon icon-close-light'></span></a>
        </div>
        <div class='modal-body'>
          <div class='report-a-bug-message text-center'>Use this form to report bugs related to the Community</div>
          <div class='report-a-bug-actions do-form'>
            <div class='form-wrap'>
              <form class="new_bug_report" id="new_bug_report" action="/community/bug_reports" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="TrjrJtwtFc+3njziGN2sGRbptQTcU+sSZqvIkbovVs1anNKpOfW5xtcgIH2S/4vgUJM2zd8YRRKxdMzydZ/YBw==" />
                <fieldset name="report-a-bug-info">
                <legend class="sr-only">Report a bug:</legend>
                  <div class="field">
                    <label for="bug_reporter_name" class="sr-only">Name</label>
                    <input placeholder="Name" id="bug_reporter_name" type="text" name="bug_report[name]" />
                  </div>
                  <div class="field">
                    <label for="bug_reporter_email" class="sr-only">Email</label>
                    <input name="Email" placeholder="Email" id="bug_reporter_email" required="required" type="text" />
                  </div>
                  <div class="field">
                    <label for="bug_reporter_message" class="sr-only">Message</label>
                    <textarea name="Message" placeholder="Message" id="bug_reporter_message" required="required"></textarea>
                  </div>

                  <div class="field actions">
                    <input type="submit" name="commit" value="Submit" class="button" />
                  </div>
                </fieldset>
</form>            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


    
  </body>
</html>
